<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="exerciseMapper">
	<resultMap id="exerciseResultSet" type="Exercise">
		<result column="ex_no" property="exerciseNo"/>
		<result column="bpart_name" property="bodyPart"/>
		<result column="ex_name" property="exerciseName"/>
	</resultMap>

	<select id="selectExerciseList" resultMap="exerciseResultSet">
		SELECT EX_NO,
			   EX_NAME,
			   BPART_NAME
		FROM EXERCISE
		JOIN BODYPART USING (BPART_NO)
		ORDER BY EX_NO
	</select>

	<insert id="insertExerciseRecord" parameterType="hashmap">
		INSERT INTO EX_RECORD(
			EXR_NO,
			USER_NO,
			EX_NO,
			EXR_SET,
			EXR_WEIGHT,
			EXR_COUNT
		) VALUES (
			SEQ_EXRNO.NEXTVAL,
			1,
			${exerciseNo},
			${exSet},
			${exWeight},
			${exCount}
		)			
	</insert>
</mapper>